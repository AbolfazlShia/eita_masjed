"use client";

import { useCallback, useEffect, useMemo, useState } from "react";
import { useRouter } from "next/navigation";
import { useTelegramWebApp } from "@/lib/telegram";
import { formatShamsiDate } from "@/lib/shamsi-events";
import { toJalaali } from "jalaali-js";

const quickActions = [
  {
    title: 'ุงุฏุนู ู ุฒุงุฑุงุช',
    description: 'ููุงุด ุฏุนุง ุฑูุฒ ู ุฒุงุฑุช ูุฎุตูุต ููุงู ุฑูุฒ ุฏุฑ ููู ุฏุงุดุจูุฑุฏ',
    icon: '๐ฟ',
    href: '/start',
    accent: 'from-emerald-500/30 to-emerald-500/5',
  },
  {
    title: 'ูุตุชโูุงูู ุดูุฏุง',
    description: 'ูุฑูุฑ ุจุฑ ุจุฎุด ุงุฒ ูุตุงุง ููุฑุงู ุดูุฏุง ุจุฑุง ุชููุช ุฑูุญู ุฌูุงุฏ',
    icon: '๐',
    href: '/',
    accent: 'from-teal-400/30 to-emerald-500/5',
  },
  {
    title: 'ุฏุงุณุชุงูโูุง ูพูุฏุขููุฒ',
    description: 'ุญฺฉุงุชโูุง ู ุฏุงุณุชุงูโูุง ุงููุงูโุจุฎุด ุจุฑุง ุฌูุงูุงู ูุณุฌุฏ',
    icon: '๐',
    href: '/',
    accent: 'from-indigo-400/30 to-purple-500/5',
  },
  {
    title: 'ูุฏุฑุช ุฎุงุฏูู ู ุงุนูุงูโูุง',
    description: 'ุซุจุช ุงุทูุงุนูโูุง ูุณุฌุฏ ู ูุฏุฑุช ุงุนุถุง (ุจูโุฒูุฏ)',
    icon: '๐๏ธ',
    href: '/auth/login',
    accent: 'from-fuchsia-500/30 to-fuchsia-500/5',
  },
];

const impactHighlights = [
  { title: 'ฒณตฐ+', subtitle: 'ููุงุฒฺฏุฒุงุฑ ูุนุงู', icon: '๐', detail: 'ุณุฑูุณโุฏู ุฑูุฒุงูู ุจู ูุฎุงุทุจุงู ุงุชุง ู ูุจ' },
  { title: 'ดต+', subtitle: 'ููุงุณุจุช ูพูุดุดโุฏุงุฏูโุดุฏู', icon: '๐', detail: 'ุชููู ุดูุณ ู ููุฑ ฺฉุงูู' },
  { title: 'ฒด/ท', subtitle: 'ุจุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ', icon: 'โป๏ธ', detail: 'Cron job ู ฺฉุด ุฏุงุฎู' },
];

type ThemeMode = "dark" | "light";
type ThemePreference = ThemeMode;

const hadithBank = [
  {
    text: 'ุฅููููููุง ุงููููุคูููููููู ุฅูุฎูููุฉู ููุฃูุตูููุญููุง ุจููููู ุฃูุฎููููููููู',
    translation: 'ูุคููุงู ุจุฑุงุฏุฑ ฺฉุฏฺฏุฑูุฏุ ูุงู ุจุฑุงุฏุฑุงู ุฎูุฏ ุงุตูุงุญ ุจุฑูุฑุงุฑ ฺฉูุฏ.',
    source: 'ูุฑุขู ฺฉุฑูุ ุณูุฑู ุญุฌุฑุงุช ุขู ฑฐ',
  },
  {
    text: 'ุฑูุญููู ุงููููฐูู ุนูุจูุฏูุง ุฃูุญูููุง ุญููููุง ููุฃูููุงุชู ุจูุงุทูููุง',
    translation: 'ุฎุฏุง ุฑุญูุช ฺฉูุฏ ุจูุฏูโุง ุฑุง ฺฉู ุญู ุฑุง ุฒูุฏู ู ุจุงุทู ุฑุง ูุงุจูุฏ ุณุงุฒุฏ.',
    source: 'ุงูุงู ุนู (ุน) - ููุฌโุงูุจูุงุบูุ ุฎุทุจู ฑทด',
  },
  {
    text: 'ูููู ุฐูููุฑู ุงููููฐูู ููุซููุฑูุง ุฃูุญูุจูููู ุงููููฐูู ููุซููุฑูุง',
    translation: 'ูุฑ ฺฉู ุจุณุงุฑ ุงุฏ ุฎุฏุง ฺฉูุฏุ ุฎุฏุง ูุฒ ุงู ุฑุง ุจุณุงุฑ ุฏูุณุช ูโุฏุงุฑุฏ.',
    source: 'ุงูุงู ุตุงุฏู (ุน) - ฺฉุงูุ ุฌ ฒุ ุต ตฐณ',
  },
  {
    text: 'ุฃูุญูุจูู ุงููููุงุณู ุฅูููู ุงููููฐูู ุฃูููููุนููููู ููููููุงุณู',
    translation: 'ูุญุจูุจโุชุฑู ูุฑุฏู ูุฒุฏ ุฎุฏุง ฺฉุณ ุงุณุช ฺฉู ุณูุฏุด ุจู ูุฑุฏู ุจุดุชุฑ ุจุฑุณุฏ.',
    source: 'ูพุงูุจุฑ ุงฺฉุฑู (ุต) - ฺฉูุฒุงูุนูุงูุ ุญ ฑทฒฐณ',
  },
  {
    text: 'ุงููุฒููุงุฆูุฑู ููููุง ููุฒูุงุฆูุฑู ุงูุฑููุณูููู ุงููููฐูู',
    translation: 'ุฒุงุฑุชโฺฉููุฏู ูุง ููฺูู ุฒุงุฑุชโฺฉููุฏู ุฑุณูู ุฎุฏุง (ุต) ุงุณุช.',
    source: 'ุงูุงู ุฑุถุง (ุน) - ฺฉุงูู ุงูุฒุงุฑุงุชุ ุจุงุจ ถฒ',
  },
];

const devotionalSchedule: Record<number, {
  dayLabel: string;
  duaTitle: string;
  duaContent: string;
  ziyaratTitle: string;
  ziyaratContent: string;
}> = {
  6: {
    dayLabel: 'ุดูุจู',
    duaTitle: 'ุฏุนุง ุฑูุฒ ุดูุจู',
    duaContent: `ุจูุณููู ุงููููู ฺฉููููููู ุงููููุนูุชูุตูููู ูู ูููุงููููู ุงููููุชูุญูุฑููุฒูู ูู ุงูุนููุฐู ุจูุงููููู ุชูุนุงูู
ุจูุงู ุฎุฏุง ุณุฎู ูพูุงููุฏฺฏุงู ู ฺฏูุชุงุฑ ูพูุงู ุฌูุงู ู ูพูุงู ูู ุจุฑู ุจู ุฎุฏุงู ุชุนุงูู
ูููู ุฌูููุฑู ุงููุฌุงููุฆูุฑูู ูู ฺฉููุฏู ุงููุญุงุณูุฏูู ูู ุจูุบููู ุงูุธูุงููููู ูู ุงูุญูููุฏููู
ุงุฒ ุฌูุฑ ุณุชูฺฉุงุฑุงู ู ุจุฏุงูุฏุดู ุญุณูุฏุงู ู ุณุชู ุจุฏุงุฏฺฏุฑุงู ู ูู ุณุชุงูุด
ูููููู ุญูููุฏู ุงููุญุงููุฏูู ุงููููููููู ุงูููุชู ุงูููุงุญูุฏู ุจููุง ุดูุฑฺฉู ูู ุงููููููฺฉู ุจููุง ุชููููฺฉู
ููู ุณุชุงุด ุณุชุงุด ฺฉููุฏฺฏุงู ุฎุฏุงุง ุชูู ฺฏุงูู ุจู ุดุฑฺฉ ู ูพุงุฏุดุงู ุจู ูุงุฒ (ฺฉู ูพุงุฏุดุงูู ุฑุง ุฏฺฏุฑู ุจู ุงู ุชููฺฉ ูฺฉุฑุฏู)
ูุง ุชูุถุงุฏูู ูู ุญูฺฉูููฺฉู ูู ูุง ุชููุงุฒูุนู ูู ููููฺฉูฺฉู ุงูุณูุฆูููฺฉู ุงููู ุชูุตูููููู
ุฏุฑ ุจุฑุงุจุฑ ูุฑูุงู ุชู ุถุฏุช ูุดูุฏ ู ุฏุฑ ูพุงุฏุดุงูุช ฺฉุดูฺฉุดู ุฑูู ูุฏูุฏ ุงุฒ ุชู ููโุฎูุงูู ฺฉู ุฏุฑูุฏ ูุฑุณุชู
ุนููู ููุญููููุฏู ุนูุจูุฏูฺฉู ูู ุฑูุณููููฺฉู ูู ุงููู ุชููุฒูุนููู ูููู ุดูฺฉูุฑู ููุนููุงฺฉู ููุง ุชูุจูููุบู ุจู ุบุงููู ุฑูุถุงฺฉู
ุจุฑ ูุญูุฏ ุจูุฏู ู ุฑุณููุช ู ุจู ูู ุทุฑูู ุณูพุงุณฺฏุฒุงุฑู ูุนูุชโูุงุช ุฑุง ฺูุงู ุจุงููุฒู ฺฉู ูุฑุง ุจู ุณุฑุญุฏ ุฎุดููุฏุช ุจุฑุณุงูุฏ
ูู ุงููู ุชูุนูููู ุนููู ุทุงุนูุชูฺฉู ููููุฒูููู ุนูุจุงุฏูุชูฺฉู ููุงุณูุชูุญููุงูู ููุซููุจูุชูฺฉู ุจูููุทููู ุนููุงูุชูฺฉู
ู ฺฉูฺฉู ุฏูู ุจุฑ ุทุงุนุช ุฎูุฏ ู ูพูุณุชฺฏู ุนุจุงุฏุช ุฎูุด ู ุงุณุชุญูุงู ูพุงุฏุงุดุช ุจูุณูู ูุทู ู ุนูุงุชุช
ูู ุชูุฑูุญููููู ุจูุตูุฏูู ุนููู ููุนุงุตฺฉู ูุง ุงูุญูููุชููู ูู ุชูููููููููู ูููุง ูููููุนููู ูุง ุงูุจููููุชููู
ู ุจู ูู ุชุฑุญู ฺฉูู ุจู ุงูฺฉู ุชุง ุฒูุฏูโุงู ุงุฒ ฺฏูุงูุงู ุจุงุฒู ุฏุงุฑู ู ุชุง ุฒูุงูู ฺฉู ุฏุฑ ุงู ุฌูุงู ูฺฏุงูู ุฏุงุฑู ููููู ุฏุงุฑู ุจู ุขูฺู ุณูุฏู ุฑุณุงูุฏ
ูู ุงููู ุชูุดูุฑูุญู ุจูฺฉูุชุงุจูฺฉู ุตูุฏูุฑู ูู ุชูุญูุทูู ุจูุชููุงููุชููู ููุฒูุฑู ูู ุชูููููุญูููู ุงูุณูููุงูููู ูู ุฏูู ูู ููููุณู
ู ุจูุณูู ฺฉุชุงุจ ุฎูุฏ (ูุฑุขู) ุณููโุงู ุจฺฏุดุงู ู ุจุง ุฎูุงูุฏู ุขู ุฌุฑู ู ฺฏูุงูู ุจุฑุฒู ู ุณูุงูุช ุฏุฑ ุฏู ู ุฌุงูู ุนุทุง ฺฉูู
ูู ูุง ุชููุญูุดู ุจู ุงููููู ุงูููุณู ูู ุชูุชูููู ุงูุญูุณุงููฺฉู ููุง ุจููููู ูููู ุนูููุฑู ฺฉููุง ุงูุญูุณูููุชู ููุง ููุถู ูููููู ุง ุงูุฑูุญููู ุงูุฑูุงุญูููู
ู ููุฏูุงูู ุฑุง ุจุฑุงู ูู ูุญุดุชูุงฺฉ ูฺฉู ู ุงุญุณุงูุช ุฑุง ุฏุฑ ูุงุจูู ุนูุฑ ุฏุฑุจุงุฑู ูู ุจู ุงุชูุงู ุฑุณุงู ฺูุงูฺู ุฏุฑ ฺฏุฐุดุชู ุงุญุณุงู ฺฉุฑุฏู ุงู ููุฑุจุงูุชุฑู ููุฑุจุงููุง`,
    ziyaratTitle: 'ุฒุงุฑุช ูพุงูุจุฑ ุงฺฉุฑู (ุต)',
    ziyaratContent: 'ุฒุงุฑุช ูพุงูุจุฑ ุงฺฉุฑู (ุต) ูุฎุตูุต ุฑูุฒ ุดูุจู ู ุชุฌุฏุฏ ุนูุฏ ุจุง ุขู ุญุถุฑุช.',
  },
  0: {
    dayLabel: 'ฺฉุดูุจู',
    duaTitle: 'ุฏุนุง ุฑูุฒ ฺฉุดูุจู',
    duaContent: `ุจูุณููู ุงููููู ุงูููุฐู ูุง ุงูุฑูุฌูู ุงููุงู ููุถููููู ูู ูุง ุงูุฎูุดู ุงููุงู ุนูุฏููููู ูู ูุง ุงูุนูุชูููุฏู ุงููุงู ูููููููู ูู ูุง ุงูููุณูฺฉู ุงููุงู ุจูุญูุจููููู
ุจูุงู ุฎุฏุงู ฺฉู ุฌุฒ ูุถูุด ุงูุฏู ูุฏุงุฑู ู ุฌุฒ ุนุฏูุด ุงุฒ ฺุฒู ุชุฑุณ ูุฏุงุฑู ู ุฌุฒ ุจู ฺฏูุชู ุงู ุงุนุชูุงุฏ ูุฏุงุฑู ู ุฌุฒ ุจู ุฑุดุชู ุงู ฺูฺฏ ูุฒูู
ุจูฺฉู ุงูุณูุชูุฌุฑู ุง ุฐูุง ุงููุนููููู ูู ุงูุฑููุถููุงูู ูููู ุงูุธูููููู ูู ุงููุนูุฏููุงูู ูููููู ุบููุฑู ุงูุฒูููุงูู ูู ุชููุงุชูุฑู ุงูุงูุญูุฒุงูู ูู ุทููุงุฑููู ุงููุญูุฏูุซุงูู
ุจู ุชู ูพูุงู ุจุฑู ุงู ุฏุงุฑุงู ฺฏุฐุดุช ู ุฎูุดููุฏู ุงุฒ ุณุชู ู ุฏุดููู ุฎูู ู ุงุฒ ุฏฺฏุฑฺฏูููุงู ุฑูุฒฺฏุงุฑ ู ูพู ุฏุฑูพู ุฑุณุฏู ุงูุฏูููุง ู ุญูุงุฏุซ ูุงฺฏูุงุฑ
ูู ูููู ุงููููุถุงููุกู ุงููููุฏูููู ููุจููู ุงูุชููุงููููุจู ูู ุงููุนูุฏูููู ูู ุงููุงฺฉู ุงูุณูุชูุฑูุดูุฏู ูููุง ููู ุงูุตูููุงุญู ูู ุงูุงููุตููุงุญู ูู ุจูฺฉู ุงูุณูุชูุนูู ููุง ูููุชูุฑููู ุจููู ุงููููุฌุงุญู ูู ุงูุงููููุฌุงุญู
ู ุงุฒ ุณูพุฑู ุดุฏู ุนูุฑ ูุจู ุงุฒ ุขูุงุฏฺฏู ู ุชูุดู ฺฏุฑู ู ุชููุง ุงุฒ ุชู ุฑุงูููุงู ูู ุฌูู ุจุฑุงู ุขูฺู ุตูุงุญ ู ุงุตูุงุญ ูู ุฏุฑ ุขูุณุช ู ุงุฒ ุชู ุงุฑู ุทูุจู ุฏุฑ ุฑุณุฏู ุจู ฺฉุงูุงุจู
ูู ุงููุงฺฉู ุงูุฑูุบูุจู ูู ููุจุงุณู ุงููุนุงููููู ููุชููุงูููุง ูู ุดูููููู ุงูุณูููุงูููู ูู ุฏููุงูููุง ูู ุงูุนููุฐู ุจูฺฉู ุง ุฑูุจูู ูููู ููููุฒุงุชู ุงูุดููุงุทูู ูู ุงูุญูุชูุฑูุฒู ุจูุณูููุทุงููฺฉู ูููู ุฌูููุฑู ุงูุณูููุงุทูู
ู ุงุฒ ุชู ุงูุฏ ุฏุงุฑู ุจุฑุงู ูพูุดุด ูุจุงุณ ุชูุฏุฑุณุชู ฺฉุงูู ู ุณูุงูุชู ุฏุงุฆู ู ูพูุงู ูู ุจุฑู ุจู ุชู ุงู ูพุฑูุฑุฏฺฏุงุฑ ุงุฒ ูุณูุณู ูุงู ุดุงุทู ู ุงุญุชุฑุงุฒ ุฌูู ุจู ุณูุทูุช ุชู ุงุฒ ุณุชู ุณูุงุทู
ููุชูููุจูููู ูุง ฺฉุงูู ูููู ุตูููุชู ููุตููููู ูู ุงุฌูุนููู ุบูุฏู ูู ูุง ุจูุนูุฏููู ุงูููุถููู ูููู ุณุงุนูุชู ูู ููููู ูู ุงูุนูุฒูููู ูู ุนูุดุฑูุชู ูู ูููููู ูู ุงุญูููุธููู ูู ูููุธูุชู ูู ูููููู
ูพุณ ุขูฺู ุงุฒ ููุงุฒ ู ุฑูุฒู ุงู ุจูุฏู ุจูพุฐุฑ ู ูุฑุฏุงู ู ุฑูุฒูุงู ูพุณ ุงุฒ ุขู ุฑุง ุจูุชุฑ ุงุฒ ุณุงุนุช ู ุงูุฑูุฒ ูู ูุฑุงุฑ ุฏู ู ูุฑุง ุฏุฑ ูุงู ูุจูู ู ูููู ุนุฒุฒ ฺฏุฑุฏุงู ู ุฏุฑ ุจุฏุงุฑู ู ุฎูุงุจู ูฺฏูุฏุงุฑ
ููุงูููุชู ุงููููู ุฎููุฑู ุญุงููุธุงู ูู ุงูููุชู ุงูุฑูุญููู ุงูุฑูุงุญูููู ุงููููููููู ุงูููู ุงูุจูุฑูุกู ุงููููฺฉู ูู ููููู ูุฐุง ูู ูุง ุจูุนูุฏููู ูููู ุงูุงูุญุงุฏู ูููู ุงูุดููุฑูฺฉู ูู ุงูุงููููุญุงุฏู
ฺฉู ุชู ุจูุชุฑู ูฺฏูุจุงู ู ููุฑุจุงูุชุฑู ููุฑุจุงููุ ุฎุฏุงุง ูู ุฏุฑ ุงู ุฑูุฒ ู ุฑูุฒูุงู ฺฉุดูุจู ุฏฺฏุฑ ุงุฒ ุดุฑฺฉ ู ุจู ุฏูู ุจุฒุงุฑู ูู ุฌูู
ูู ุงูุฎูููุตู ููฺฉู ุฏูุนุงููุฆู ุชูุนูุฑููุถุงู ูููุงููุฌุงุจููู ูู ุงูููู ุนููู ุทุงุนูุชูฺฉู ุฑูุฌุงููุกู ูููุงููุซุงุจููู ููุตูููู ุนููู ููุญููููุฏู ุฎููุฑู ุฎูููููฺฉู ุงูุฏูุงุนู ุงููู ุญููููฺฉู
ู ุฏุนุงู ุฑุง ุจุฑุงู ุชู ุฎุงูุต ูู ฺฉูู ุชุง ุฏุฑ ูุนุฑุถ ุงุฌุงุจุช ูุฑุงุฑ ฺฏุฑุฏ ู ููฺูุงู ุจุฑ ุทุงุนุชุช ูพุงุฏุงุฑู ุชุง ุจู ุงูุฏ ูพุงุฏุงุดุช ุจุงุดูุ ูพุณ ุฏุฑูุฏ ูุฑุณุช ุจุฑ ูุญูุฏ ุจูุชุฑู ุขูุฑุฏู ุงุช ฺฉู ูุฑุฏู ุฑุง ุจู ุณู ุญู ุชู ูู ุฎูุงูุฏ
ููุงูุนูุฒูููู ุจูุนูุฒููฺฉู ุงูููุฐู ูุงูุถุงูู ูู ุงุญูููุธููู ุจูุนููููฺฉู ุงูููุชู ูุง ุชููุงูู ูู ุงุฎูุชููู ุจูุงูุงูููููุทุงุนู ุงููููฺฉู ุนูููุฑู ุจูููุบูููุฑูุชูฺฉู ุง ุงูุฑูุญููู ุงูุฑูุงุญูููู`,
    ziyaratTitle: 'ุฒุงุฑุช ุงูุฑุงููุคููู (ุน) ู ุญุถุฑุช ุฒูุฑุง (ุณ)',
    ziyaratContent: 'ุฒุงุฑุช ุงูุฑุงููุคููู (ุน) ู ุญุถุฑุช ุฒูุฑุง (ุณ) ูฺู ุฑูุฒ ฺฉุดูุจู.',
  },
  1: {
    dayLabel: 'ุฏูุดูุจู',
    duaTitle: 'ุฏุนุง ุฑูุฒ ุฏูุดูุจู',
    duaContent: `ุงูููุญูููุฏู ูููููู ุงูููุฐู ูููู ูุดูููุฏู ุงูุญูุฏุงู ุญูู ููุทูุฑู ุงูุณููููุงุชู ูู ุงูุงููุฑูุถู ูู ูุงูุงุชููุฎูุฐู ููุนูุงู ุญูู ุจูุฑูุกู ุงููููุณููุงุชู
ูููู ูุดุงุฑูฺฉู ููู ุงูุงููููููููู ูู ูููู ูุธุงููุฑู ููู ุงููููุญูุฏุงูููููู ฺฉููููุชู ุงูุงููููุณููู ุนููู ุบุงููู ุตูููุชููู ูู ุงููุนูููููู ุนููู ฺฉููููู ููุนูุฑูููุชููู
ูู ุชููุงุถูุนูุชู ุงููุฌูุจุงุจูุฑููู ูููููุจูุชููู ูู ุนูููุชู ุงููููุฌูููู ููุฎูุดููุชููู ูู ุงูููุงุฏู ฺฉูููู ุนูุธูู ููุนูุธูููุชููู
ููููฺฉู ุงููุญูููุฏู ููุชููุงุชูุฑุงู ููุชููุณููุงู ูู ููุชููุงููุงู ููุณูุชูููุณููุงู ูู ุตููููุงุชููู ุนููู ุฑูุณูููููู ุงูุจูุฏุงู ูู ุณููุงูููู ุฏุงููุฆููุงู ุณูุฑูููุฏุงู
ุงููููููููู ุงุฌูุนููู ุงูููููู ููููู ูุฐุง ุตููุงุญุงู ูู ุงูููุณูุทููู ูููุงุญุงู ูู ุขุฎูุฑููู ููุฌุงุญุงู ูู ุงูุนููุฐู ุจูฺฉู ูููู ููููู ุงููููููู ููุฒูุนู ูู ุงููุณูุทููู ุฌูุฒูุนู ูู ุขุฎูุฑููู ููุฌูุนู
ุงููููููููู ุงูููู ุงูุณูุชูุบูููุฑูฺฉู ููฺฉูููู ููุฐูุฑู ููุฐูุฑูุชููู ูู ฺฉูููู ููุนูุฏู ููุนูุฏูุชููู ูู ฺฉูููู ุนูููุฏู ุนุงููุฏูุชููู ุซูููู ูููู ุงููู ุจููู
ูู ุงูุณูุฆูููฺฉู ูู ููุธุงูููู ุนูุจุงุฏูฺฉู ุนูููุฏู ููุงููููุง ุนูุจูุฏู ูููู ุนูุจุฏูฺฉู ุงููู ุงููููู ูููู ุงููุงุฆูฺฉู ฺฉุงููุชู ูููู ููุจููู ููุธููููููู
ุธูููููุชููุง ุงููุงูู ูู ููููุณููู ุงููู ูู ุนูุฑูุถููู ุงููู ูู ูุงูููู ุงููู ูู ุงููููููู ูู ููููุฏููู ุงููู ุบุจููู ุงุบูุชูุจูุชููู ุจููุง
ุงููู ุชูุญุงูููู ุนูููููู ุจูููููู ุงููู ููููู ุงููู ุงููููููู ุงููู ุญููููููู ุงููู ุฑูุงููุกู ุงููู ุนูุตูุจููููู ุบุงููุฆูุจุงู ฺฉุงูู ุงููู ุดุงููุฏุงู ูู ุญููุงู ฺฉุงูู ุงููู ููููุชุงู
ููููุตูุฑูุชู ูุฏู ููุถุงูู ููุณูุนู ุนููู ุฑูุฏูููุง ุงูููููู ูู ุงููุชูุญูููููู ูููููู ููุงูุณูุฆูููฺฉู ุง ูููู ูููููฺฉู ุงููุญุงุฌุงุชู ูููููู ููุณูุชูุฌุจูู ููููุดูููุชููู
ูู ููุณูุฑูุนููู ุงููู ุงูุฑุงุฏูุชููู ุงููู ุชูุตูููููู ุนููู ููุญููููุฏู ูู ุขูู ููุญููููุฏู ูู ุงููู ุชูุฑูุถูููู ุนูููู ุจููุง ุดูุฆูุชู ูู ุชูููุจู ูู ูููู ุนูููุฏูฺฉู ุฑูุญููููู
ุงูููููู ูุง ุชูููููุตูฺฉู ุงููููุบูููุฑููู ูู ูุง ุชูุถูุฑููฺฉู ุงููููููููุจููู ุง ุงูุฑูุญููู ุงูุฑูุงุญูููู ุงููููููููู ุงููููููู ูู ฺฉูููู ููููู ุงุซูููููู ููุนูููุชูููู ููููฺฉู ุซูููุชูููู
ุณูุนุงุฏููู ูู ุงูููููููู ุจูุทุงุนูุชูฺฉู ูู ููุนููููู ูู ุงุฎูุฑููู ุจูููุบูููุฑูุชูฺฉู ุง ูููู ูููู ุงูุงููููู ูู ูุง ูุบูููุฑู ุงูุฐูููููุจู ุณููุงูู`,
    ziyaratTitle: 'ุฒุงุฑุช ุงูุงู ุญุณู ู ุงูุงู ุญุณู (ุน)',
    ziyaratContent: 'ุชูุณู ุจุฑุง ุดุฑุญ ุตุฏุฑ ู ุงุณุชูุงูุช ุฏุฑ ุฑุงู ุญู.',
  },
  2: {
    dayLabel: 'ุณูโุดูุจู',
    duaTitle: 'ุฏุนุง ุฑูุฒ ุณูโุดูุจู',
    duaContent: `ุงูููุญูููุฏู ูููููู ูู ุงููุญูููุฏู ุญูููููู ฺฉููุง ูุณูุชูุญูููููู ุญูููุฏุงู ฺฉูุซุฑุงู ูู ุงูุนููุฐู ุจููู ูููู ุดูุฑูู ููููุณู ุงูููู ุงููููููุณู ูุงูููุงุฑููู ุจูุงูุณูููููุกู ุงูููุง ูุง ุฑูุญููู ุฑูุจูู
ุณุชุงุด ุฎุงุต ุฎุฏุงุณุช ู ุญู ุงูุณุช ฺูุงู ุณุชุงุดู ฺฉู ุณุฒุงูุงุฑ ุงูุณุชุ ู ูพูุงู ุจุฑู ุจู ุฎุฏุง ุงุฒ ุจุฏูู ููุณ ุฎูุฏ ฺฉู ููุณ ุฌุฒ ุขู ุฑุง ฺฉู ูพุฑูุฑุฏฺฏุงุฑ ุฑุญู ฺฉูุฏ ูููุงุฑู ุจู ุจุฏู ูุงุฏุงุฑ ูู ฺฉูุฏ
ูู ุงูุนููุฐู ุจููู ูููู ุดูุฑูู ุงูุดูููุทุงูู ุงูููุฐู ูุฒุฏููู ุฐูููุจุงู ุงููู ุฐูููุจู ูู ุงูุญูุชูุฑูุฒู ุจููู ูููู ฺฉูููู ุฌูุจูุงุฑู ูุงุฌูุฑู ูู ุณูููุทุงูู ุฌุงููุฆูุฑู ูู ุนูุฏูููู ูุงููุฑู
ู ุงุฒ ุดุฑู ุดุทุงูู ฺฉู ฺฏูุงูู ุจุฑ ฺฏูุงูู ูู ุงูุฒุงุฏ ุจู ุงู ูพูุงู ูู ุจุฑู ู ุฏุฑ ุจุฑุงุจุฑ ูุฑ ฺฏุฑุฏูฺฉุด ุชุจูฺฉุงุฑ ู ูุฑ ุณูุทุงู ุณุชูฺฏุฑ ู ุฏุดูู ูุงูุฑ ุจู ุงู ูพูุงู ูู ุฌูู
ุงููููููููู ุงุฌูุนููููู ูููู ุฌูููุฏูฺฉู ููุงูููู ุฌูููุฏูฺฉู ูููู ุงููุบุงููุจูููู ูู ุงุฌูุนููููู ูููู ุญูุฒูุจูฺฉู ููุงูููู ุญูุฒูุจูฺฉู ูููู ุงููููููููุญูููู
ุฎุฏุงุง ูุฑุง ุงุฒ ุณูพุงูุงูุช ูุฑุงุฑ ุฏู ฺฉู ุณูพุงู ุชู ููุดู ูพุฑูุฒูุฏ ู ูุฑุง ุงุฒ ุญุฒุจ ุชู ูุฑุงุฑ ุฏู ฺฉู ุญุฒุจ ุชู ุฑุณุชฺฏุงุฑุงููุฏ
ูู ุงุฌูุนููููู ูููู ุงูููููุงููุฆูฺฉู ููุงูููู ุงูููููุงููุฆูฺฉู ูุง ุฎููููู ุนูููููููู ูู ูุง ูููู ูุญูุฒูููููู
ู ุงุฒ ุงููุงุก ุฎูุฏ ูุฑุงุฑ ุฏู ฺฉู ุงููุงุก ุชู ูู ุจูู ุฏุงุฑูุฏ ู ูู ุงูุฏููฺฏู ูู ุดููุฏ
ุงููููููููู ุงูุตูููุญู ูู ุฏูู ููุงูููููู ุนูุตููููู ุงูููุฑู ูู ุงูุตูููุญู ูู ุงุฎูุฑูุชู ููุงูููููุง ุฏุงุฑู ููููุฑูู ูู ูููู ููุฌุงููุฑููู ุงููููุฆุงูู ููููุฑูู
ุฎุฏุงุง ุฏูู ุฑุง ฺฉู ูฺฏูุฏุงุฑ ฺฉุงุฑ ูู ุงุณุช ุงุตูุงุญ ฺฉู ู ุขุฎุฑุชู ุฑุง ฺฉู ุฎุงูู ูพุงุฏุงุฑ ูู ู ูุญู ฺฏุฑุฒู ุงุฒ ููุณุงฺฏู ุจุง ูุฑููุงฺฏุงู ุงุณุช ุงุตูุงุญ ูุฑูุง
ูู ุงุฌูุนููู ุงููุญูุงูู ุฒูุงุฏููู ูู ูู ฺฉูููู ุฎููุฑู ูู ุงูููููุงูู ุฑุงุญููู ูู ูููู ฺฉูููู ุดูุฑูู
ุฒูุฏฺฏู ุฑุง ุจุฑุงู ูุงู ุงูุฒููู ุฏุฑ ูุฑ ุฎุฑ ู ูุฑฺฏ ุฑุง ุขุณุงุด ุงุฒ ูุฑ ุดุฑ ูุฑุงุฑ ุฏู
ุงููููููููู ุตูููู ุนููู ููุญููููุฏู ุฎุงุชููู ุงููููุจูููู ูู ุชููุงูู ุนูุฏูููู ุงููููุฑูุณูููู ูู ุนููู ุขูููู ุงูุทููููุจูู ุงูุทูุงููุฑูู ููุงูุตูุญุงุจููู ุงููููููุชูุฌูุจูู
ุฎุฏุงุง ุจุฑ ูุญูุฏ ุฎุงุชู ูพุงูุจุฑุงู ู ูพุงุงู ุฏููุฏู ุดูุงุฑ ุฑุณููุงู ู ุจุฑ ุฎุงูุฏุงู ูพุงฺฉุด ู ุงุตุญุงุจ ุจุฑฺฏุฒุฏู ุงุด ุฏุฑูุฏ ูุฑุณุช
ูู ููุจู ูู ููู ุงูุซููููุซุงููุกู ุซููุงุซุงู ูุง ุชูุฏูุนู ูู ุฐูููุจุงู ุงููุงู ุบูููุฑูุชููู ูู ูุง ุบูููุงู ุงููุงู ุงูุฐูููุจูุชููู ูู ูุง ุนูุฏูููุงู ุงููุงู ุฏูููุนูุชููู
ู ุฏุฑ ุฑูุฒ ุณู ุดูุจู ุณู ฺุฒ ุจู ูู ุนุทุง ฺฉู: ูฺ ฺฏูุงูู ุงุฒ ูู ุจุงูู ูฺฏุฐุงุฑ ุฌุฒ ุงูฺฉู ุจุงูุฑุฒูุ ู ูฺ ุงูุฏููู ุฌุฒ ุงูฺฉู ุจุฑุทุฑู ุณุงุฒูุ ู ูฺ ุฏุดููู ุฌุฒ ุงูฺฉู ุฏูุน ููุงู
ุจูุจูุณููู ุงููููู ุฎููุฑู ุงูุงูุณููุงููุกู ุจูุณููู ุงููููู ุฑูุจูู ุงูุงููุฑูุถู ูู ุงูุณูููุงููุกู ุงูุณูุชูุฏูููุนู ฺฉูููู ููฺฉูุฑูููู ุงูููููููู ุณูุฎูุทููู ูู ุงูุณูุชูุฌูููุจู ฺฉูููู ููุญูุจููุจู ุงูููููููู ุฑูุถุงูู
ุจู ูุงู ุฎุฏุง ฺฉู ุจูุชุฑู ูุงููุงุณุชุ ุจู ูุงู ุฎุฏุงููุฏ ุฒูู ู ุขุณูุงูุ ุงุฒ ูุฑ ูฺฉุฑููู ฺฉู ุขุบุงุฒุด ุฎุดู ุงูุณุช ุฏูุฑู ูู ุฌูู ู ูุฑ ูุญุจูุจู ฺฉู ุขุบุงุฒุด ุฎูุดููุฏู ุงูุณุช ุจู ุณูู ุฎูุฏ ูู ฺฉุดู
ููุงุฎูุชููู ูู ููููฺฉู ุจูุงููุบูููุฑุงูู ุง ููููููู ุงูุงููุญูุณุงูู`,
    ziyaratTitle: 'ุฒุงุฑุช ุงูุงู ุณุฌุงุฏุ ุงูุงู ุจุงูุฑ ู ุงูุงู ุตุงุฏู (ุน)',
    ziyaratContent: 'ุชุฌุฏุฏ ุนูุฏ ุจุง ุงุฆูู ุนูู ู ูุนููุช.',
  },
  3: {
    dayLabel: 'ฺูุงุฑุดูุจู',
    duaTitle: 'ุฏุนุง ุฑูุฒ ฺูุงุฑุดูุจู',
    duaContent: `ุงูููุญูููุฏู ูููููู ุงูููุฐู ุฌูุนููู ุงููููููู ููุจุงุณุงู ูู ุงูููููููู ุณูุจุงุชุงู ูู ุฌูุนููู ุงูููููุงุฑู ููุดููุฑุงู
ุณุชุงุด ุฎุฏุงู ุฑุง ฺฉู ุดุจ ุฑุง ูพูุดุด ูุฑุงุฑ ุฏุงุฏ ู ุฎูุงุจ ุฑุง ูุงู ุขุฑุงูุด ู ุฑูุฒ ุฑุง ูุณูู ุชฺฉุงูพู
ููฺฉู ุงููุญูููุฏู ุงููู ุจูุนูุซูุชููู ูููู ููุฑูููุฏู ูู ูููู ุดูุฆูุชู ุฌูุนูููุชููู ุณูุฑูููุฏุงู ุญูููุฏุงู ุฏุงุฆููุงู ูุง ูููููุทูุนู ุงูุจูุฏุงู ูู ูุง ูุญูุตู ูููู ุงููุฎููุงููุฆููู ุนูุฏูุฏุงู
ุณุชุงุด ุชู ุฑุงุณุช ฺฉู ูุฑุง ุงุฒ ุฎูุงุจฺฏุงูู ุจุฑุงูฺฏุฎุชู ู ุงฺฏุฑ ูู ุฎูุงุณุชู ุฎูุงุจู ุฑุง ููุดฺฏู ูู ุณุงุฎุชูุ ุณุชุงุดู ุฏุงุฆู ฺฉู ูุฑฺฏุฒ ูุทุน ูุดูุฏ ู ุฎูู ูุชูุงููุฏ ุดูุงุฑูุฏ
ุงูููููฐููููู ููฺฉู ุงููุญูููุฏู ุงููู ุฎูููููุชู ููุณูููููุชู ููููุฏููุฑูุชู ูู ููุถููุชู ูู ุงูููุชูู ูู ุงูุญูููุชู ูู ุงูููุฑูุถูุชู ูู ุดููููุชู ูู ุนุงูููุชู ูู ุงูุจููููุชู
ุฎุฏุงุง ุชู ุฑุง ุณูพุงุณ ฺฉู ุขูุฑุฏู ู ุณุงูุงู ุฏุงุฏู ู ุงูุฏุงุฒู ููุฑุฑ ฺฉุฑุฏ ู ุญฺฉู ุฑุงูุฏู ู ูุฑุงูุฏู ู ุฒูุฏู ฺฉุฑุฏู ู ุจูุงุฑ ุณุงุฎุชู ู ุดูุง ุฏุงุฏู ู ุนุงูุช ุจุฎุดุฏู ู ุขุฒููุฏู
ููุนูููู ุงููุนูุฑูุดู ุงุณูุชููููุชู ูู ุนูููู ุงููููููฺฉู ุงุญูุชููููุชู ุงูุฏูุนููฺฉู ุฏูุนุงููุกู ูููู ุถูุนูููุชู ููุณููุชููู ูู ุงููููุทูุนูุชู ุญููุชููู
ุจุฑ ุนุฑุด ุงุณุชูุง ุงูุชู ู ุจุฑ ููฺฉ ุงุญุงุทู ฺฉุฑุฏู ุงูุ ูู ุฎูุงููุช ฺูู ฺฉุณู ฺฉู ูุณูู ุงุด ุณุณุช ู ุญูู ุงุด ุจุฑุฏู ุงุณุช
ููุงููุชูุฑูุจู ุงูุฌููููู ูู ุชูุฏุงูู ููู ุงูุฏููููุง ุงููููููู ูู ุงุดูุชูุฏููุชู ุงููู ุฑูุญูููุชูฺฉู ูุงููุชููู ูู ุนูุธูููุชู ููุชูููุฑุทููู ุญูุณูุฑูุชููู
ู ุงุฌูุด ูุฒุฏฺฉ ุดุฏู ู ุขุฑุฒูุด ุฏุฑ ุฏูุง ุงูุฏฺฉ ฺฏุดุชู ู ูุงุฒุด ุจู ุฑุญูุชุช ุดุฏุฏ ุดุฏู ู ุญุณุฑุชุด ุจุฑ ฺฉูุชุงูู ุจุณุงุฑ ุดุฏู ุงุณุช
ูู ฺฉูุซูุฑูุชู ุฒููููุชููู ูู ุนูุซูุฑูุชููู ููุฎูููุตูุชู ููููุฌูููฺฉู ุชูููุจูุชููู ููุตูููู ุนููู ููุญููููุฏู ุฎุงุชููู ุงููููุจูููู
ู ูุบุฒุด ู ุฎุทุงุด ุจุณุงุฑ ู ุชูุจู ุงุด ุจุฑุงู ุฐุงุช ุชู ุฎุงูุต ฺฏุดุชูุ ุจุฑ ูุญูุฏ ุฎุงุชู ูพุงูุจุฑุงู ุฏุฑูุฏ ูุฑุณุช
ูู ุนููู ุงููููู ุจููุชููู ุงูุทููููุจูู ุงูุทูุงููุฑูู ูู ุงุฑูุฒููููู ุดููุงุนููู ููุญููููุฏู ุตููููู ุงููููู ุนูููููู ูู ุขูููู ูู ูุง ุชูุญูุฑููููู ุตูุญูุจูุชููู ุงููููฺฉู ุงูููุชู ุงูุฑูุญููู ุงูุฑูุงุญูููู
ู ุจุฑ ุฎุงูุฏุงู ูพุงฺฉ ู ุทุงูุฑุดุ ู ุดูุงุนุช ูุญูุฏ ุฑุง ุฑูุฒู ูู ฺฏุฑุฏุงู ู ุงุฒ ููุฑุงูู ุงู ูุญุฑููู ูุณุงุฒ ฺฉู ุชู ููุฑุจุงูุชุฑู ููุฑุจุงูุงูู
ุงููููููููู ุงููุถู ูู ููู ุงูุงูุฑูุจูุนุงููุกู ุงูุฑูุจูุนุงู ุงูุฌูุนููู ูููููุชู ูู ุทุงุนูุชูฺฉู ูู ููุดุงุทู ูู ุนูุจุงุฏูุชูฺฉู ูู ุฑูุบูุจูุชู ูู ุซููุงุจูฺฉู ูู ุฒูููุฏู ููุง ููุฌูุจู ูู ุนูุฐุงุจูฺฉู ุงููููฺฉู ููุทูู ูููุง ุชูุดุงููุกู`,
    ziyaratTitle: 'ุฒุงุฑุช ุงูุงู ููุณ ฺฉุงุธูุ ุงูุงู ุฑุถุงุ ุงูุงู ุฌูุงุฏ ู ุงูุงู ูุงุฏ (ุน)',
    ziyaratContent: 'ุทูุจ ุดูุงุนุช ุจุฑุง ุดูุง ุฏู ู ุฌุณู.',
  },
  4: {
    dayLabel: 'ูพูุฌโุดูุจู',
    duaTitle: 'ุฏุนุง ุฑูุฒ ูพูุฌุดูุจู',
    duaContent: `ุงูููุญูููุฏู ูููููู ุงูููุฐู ุงูุฐูููุจู ุงููููููู ููุธููููุงู ุจูููุฏูุฑูุชููู ูู ุฌุงููุกู ุจูุงูููููุงุฑู ููุจูุตูุฑุงู ุจูุฑูุญูููุชููู ููฺฉูุณุงูู ุถูุงุกููู ูู ุงูููุง ูู ููุนูููุชููู
ุณุชุงุด ุฎุงุต ุฎุฏุงุณุช ฺฉู ุดุจ ุชุงุฑ ุฑุง ุจู ูุฏุฑุชุด ุจุฑุฏ ู ุฑูุฒ ุฑูุดู ุฑุง ุจุฑุญูุช ุฎูุด ุขูุฑุฏ ู ูุฑุง ุฏุฑ ูุนูุชุด ูุฑู ุจุฑุฏ
ุงููููููููู ููฺฉููุง ุงูุจููููุชููู ูููู ููุงูุจููููู ูุงูููุซุงูููู ูู ุตูููู ุนูููู ุงููููุจูููู ููุญููููุฏู ูู ุขูููู ูู ูุง ุชูููุฌูุนููู ููู ูู ูู ุบููุฑููู ูููู ุงููููุงูู ูู ุงูุงููุงูู ุจูุงุฑูุชูฺฉุงุจู ุงููููุญุงุฑููู ูู ุงฺฉูุชูุณุงุจู ุงููููุขุซููู
ุฎุฏุงุง ููฺูุงู ฺฉู ูุฑุง ุจุฑุงู ุงู ุฑูุฒ ูฺฏุงู ุฏุงุดุชู ุจุฑุงู ุฑูุฒูุงู ุฏฺฏุฑ ูุฒ ูฺฏูุฏุงุฑ ู ุจุฑ ูพุงูุจุฑ ู ุฎุงูุฏุงูุด ุฏุฑูุฏ ูุฑุณุช ู ูุฑุง ุฏุฑ ุงู ุฑูุฒ ู ุณุงุฑ ุฑูุฒูุง ุจู ุงุฑุชฺฉุงุจ ุญุฑุงู ู ฺฏุฑุฏุขูุฑู ฺฏูุงู ุฏุงุบุฏุงุฑ ูฺฏุฑุฏุงู
ูู ุงุฑูุฒููููู ุฎููุฑููู ูู ุฎููุฑู ูุง ููู ููุฎููุฑู ูุง ุจูุนูุฏููู ูู ุงุตูุฑููู ุนูููู ุดูุฑูููู ูู ุดูุฑูู ูุง ููู ูู ุดูุฑูููุง ุจูุนูุฏููู
ุฎุฑ ุงู ุฑูุฒ ู ุขูฺู ุฏุฑ ุขู ุงุณุช ู ุฎุฑ ุฑูุฒูุงู ูพุณ ุงุฒ ุขู ุฑุง ุฑูุฒู ูู ฺฏุฑุฏุงู ู ุดุฑู ุงู ุฑูุฒ ู ุขูฺู ุฏุฑ ุขู ุงุณุช ู ุดุฑู ุฑูุฒูุงู ุจุนุฏ ุฑุง ุงุฒ ูู ุฏูุฑ ฺฉู
ุงููููููููู ุงูููู ุจูุฐูููููู ุงูุงููุณููุงูู ุงูุชูููุณูููู ุงููููฺฉู ูู ุจูุญูุฑููููู ุงููููุฑูุขูู ุงูุนูุชูููุฏู ุนููููฺฉู ูู ุจูููุญููููุฏู ุงููููุตูุทููู ุตููููู ุงููููู ุนูููููู ูู ุขูููู ุงูุณูุชูุดูููุนู ููุฏููฺฉู
ุฎุฏุงุง ูู ุจู ูพูุงู ุงุณูุงู ุจู ุชู ุชูุณู ูู ุฌูู ู ุจู ุญุฑูุช ูุฑุขู ุจุฑ ุชู ุงุนุชูุงุฏ ฺฉูู ู ุจู ูุณูู ูุญูุฏ ูุตุทูู ูุฒุฏ ุชู ุดูุงุนุช ุทูุจู
ููุงุนูุฑููู ุงูููููููู ุฐููููุชููู ุงูููุชู ุฑูุฌูููุชู ุจููุง ููุถุงููุกู ุญุงุฌูุชู ุง ุงูุฑูุญููู ุงูุฑูุงุญูููู
ูพุณ ุจุดูุงุณ ุงู ุฎุฏุง ูพูุงูู ุฑุง ฺฉู ุจุฏุงู ุงูุฏ ุจุฑุขูุฑุฏู ุญุงุฌุชู ุฑุง ุฏุงุฑู ุงู ููุฑุจุงูุชุฑู ููุฑุจุงูุงู
ุงููููููููู ุงููุถู ูู ููู ุงููุฎููุณู ุฎูููุณุงู ูุง ูุชููุณูุนู ูููุง ุงููุงู ฺฉูุฑูููฺฉู ูู ูุง ูุทูููุง ุงููุงู ููุนูููฺฉู
ุฎุฏุงุง ุฏุฑ ุฑูุฒ ูพูุฌุดูุจู ูพูุฌ ุญุงุฌุชู ุฑุง ุจุฑุขูุฑ ฺฉู ุฌุฒ ฺฉุฑู ุชู ฺฏูุฌุงุด ุขููุง ุฑุง ูุฏุงุฑุฏ ู ุฌุฒ ูุนูุชุช ุจุฑ ุขููุง ุชูุงูุง ูุณุช
ุณููุงูููู ุฃูููููู ุจููุง ุนููู ุทุงุนูุชูฺฉูุ ููุนูุจุงุฏููู ุฃูุณูุชูุญูููู ุจููุง ุฌูุฒูู ููุซููุจูุชูฺฉูุ ูู ุณูุนููู ูู ุงูุฑููุฒููู ุงูุญููุงููุ ูู ุฃููููุงู ูู ูููุงูููู ุงูุฎููููู ุจูุฃูููููฺฉูุ ูู ุญูุตููุงู ูููู ุทููุงุฑููู ุงููููููููู ูู ุงููุบูููููู
ุชูุฏุฑุณุชู ฺฉู ุจู ูุณูู ุขู ุจุฑ ุทุงุนุชุช ูุฑู ฺฏุฑูุ ุนุจุงุฏุชู ฺฉู ุณุฒุงูุงุฑ ูพุงุฏุงุด ุจุณุงุฑ ุชู ฺฏุฑุฏุฏุ ูุฑุงุฎู ุฏุฑ ุฑูุฒู ุญูุงูุ ุงููู ุฏุฑ ุฌุงฺฏุงููุงู ูุฑุงุณูุงฺฉ ุจู ุงููุชุชุ ู ุฏฺ ุฏุฑ ุจุฑุงุจุฑ ูุฑุด ุบููุง ู ุงูุฏูููุง
ููุตูููู ุนููู ููุญููููุฏู ููุขูู ููุญููููุฏู ููุงุฌูุนููู ุชูููุณูููู ุจููู ุดุงููุนุงู ูุงููุนุงู ููููู ุงูููููููู ุงููููฺฉู ุงูููุชู ุงูุฑูุญููู ุงูุฑูุงุญูููู`,
    ziyaratTitle: 'ุฒุงุฑุช ุงูุงู ุญุณู ุนุณฺฉุฑ (ุน)',
    ziyaratContent: 'ุฒุงุฑุช ุงูุงู ุญุณู ุนุณฺฉุฑ (ุน) ูฺู ุฑูุฒ ูพูุฌโุดูุจู.',
  },
  5: {
    dayLabel: 'ุฌูุนู',
    duaTitle: 'ุฏุนุง ุฑูุฒ ุฌูุนู',
    duaContent: `ุงูููุญูููุฏู ูููููู ุงูุงูููููู ููุจููู ุงูุงููููุดุงููุกู ูู ุงูุงููุญูุงููุกู ูู ุงูุงูุฎูุฑู ุจูุนูุฏู ูููุงููุกู ุงูุงูุดูุงููุกู
ุณุชุงุด ุฎุงุต ุฎุฏุงุณุช ฺฉู ุขุบุงุฒ ูุณุชู ูพุด ุงุฒ ูพุฏุงุด ู ุฒูุฏฺฏู ุงุณุช ู ูพุงุงู ูพุณ ุงุฒ ููุงู ููุฌูุฏุงุช
ุงููุนูููู ุงูููุฐู ูุง ูููุณู ูููู ุฐูฺฉูุฑููู ูู ูุง ูููููุตู ูููู ุดูฺฉูุฑููู ูู ูุง ูุฎุจู ูููู ุฏูุนุงูู ูู ูุง ูููุทูุนู ุฑูุฌุงููุกู ูููู ุฑูุฌุงูู
ุฏุงูุงู ฺฉู ูุฑ ฺฉู ุงุฏุด ฺฉูุฏ ูู ุฑุง ุงุฒ ุงุฏ ูุจุฑุฏ ู ุณูพุงุณฺฏุฒุงุฑ ุฑุง ุงุฒ ูุนูุชุด ูฺฉุงูุฏ ู ุฏุนุง ฺฉููุฏู ุฑุง ูููุฏ ูุณุงุฒุฏ ู ุงูุฏ ุงูุฏูุงุฑุด ุฑุง ูุทุน ูฺฉูุฏ
ุงููููููููู ุงูููู ุงูุดูููุฏูฺฉู ูู ฺฉููู ุจูฺฉู ุดููุฏุงู ูู ุงูุดูููุฏู ุฌููุนู ูููุงููุฆูฺฉูุชูฺฉู ูู ุณูฺฉูุงูู ุณููููุงุชูฺฉู ูู ุญููููููู ุนูุฑูุดูฺฉู
ุฎุฏุงุง ูู ุชู ุฑุง ฺฏูุงู ูู ฺฏุฑู ู ฺฏูุงู ุจูุฏู ุชู ุจุณ ุงุณุช ู ููู ูุฑุดุชฺฏุงู ู ุณุงฺฉูุงู ุขุณูุงููุง ู ุญุงููุงู ุนุฑุดุช ุฑุง ฺฏูุงู ูู ุณุงุฒู
ูู ูููู ุจูุนูุซูุชู ูููู ุงูููุจูุงููุฆูฺฉู ููุฑูุณูููฺฉู ูู ุงูููุดูุงูุชู ูููู ุงูุตููุงูู ุฎูููููฺฉู ุงูููู ุงูุดูููุฏู ุงููููฺฉู ุงูููุชู ุงููููู ูุง ุงูููู ุงููุงู ุงูููุชู ููุญูุฏูฺฉู ูุง ุดูุฑฺฉู ููฺฉู
ู ููู ูพุงูุจุฑุงู ู ุฑุณููุงูู ุฑุง ฺฉู ุจุฑุงูฺฏุฎุชู ู ุขูุฑุฏฺฏุงู ุฑุง ฺฏูุงู ูู ฺฏุฑู ฺฉู ฺฏูุงูู ุฏูู ุชูู ุฎุฏุง ฺฉู ูุนุจูุฏู ุฌุฒ ุชู ูุณุช ู ฺฏุงูู ุงู ฺฉู ุดุฑฺฉ ู ูุงููุฏู ูุฏุงุฑู
ูู ูุง ุนูุฏูู ูู ูุง ุฎููููู ููููููููฺฉู ูู ูุง ุชูุจูุฏูู ูู ุงูููู ููุญููููุฏุงู ุตููููู ุงููููู ุนูููููู ูู ุขูููู ุนูุจูุฏูฺฉู ูู ุฑูุณููููฺฉู
ูู ููุชุงู ุจุฑุงู ุชู ุงุณุช ู ูู ุฎูุงู ู ุชุจุฏู ุฏุฑ ฺฏูุชุงุฑุชุ ู ุงูฺฉู ูุญูุฏ ุตูู ุงููู ุนูู ู ุขูู ุจูุฏู ู ุฑุณูู ุชูุณุช
ุงูุฏูู ูุง ุญููููููุชููู ุงูููู ุงูุนูุจุงุฏู ูู ุฌุงููุฏู ููู ุงููููู ุนูุฒููููุฌูููู ุญูููู ุงููุฌููุงุฏู ูู ุงูููููู ุจูุดููุฑู ุจููุง ูููู ุญูููู ูููู ุงูุซูููุงุจู ูู ุงูููุฐูุฑู ุจููุง ูููู ุตูุฏููู ูููู ุงููุนููุงุจู
ุขูฺู ุฑุง ูุฃููุฑ ฺฉุฑุฏู ุจูุฏู ุจู ุจูุฏฺฏุงูุช ุฑุณุงูุฏ ู ุฏุฑ ุฑุงู ุฎุฏุง ุญู ุฌูุงุฏ ุฑุง ุงุฏุง ฺฉุฑุฏ ู ุจุดุงุฑุช ุฏุงุฏ ุจู ุซูุงุจ ุฑุงุณุชู ู ุจู ุฏุงุฏ ุงุฒ ุนูุงุจ ุญููู
ุงููููููููู ุซูุจููุชููู ุนููู ุฏููฺฉู ูุง ุงูุญูููุชููู ูู ูุง ุชูุฒูุบู ููููุจู ุจูุนูุฏู ุงูุฐู ููุฏููุชููู ูู ููุจู ูู ูููู ููุฏูููฺฉู ุฑูุญููููู ุงููููฺฉู ุงูููุชู ุงููููููุงุจู
ุฎุฏุงุง ุชุง ุฒูุฏูโุงู ูุฑุง ุจุฑ ุฏูุช ุซุงุจุช ุจุฏุงุฑ ู ูพุณ ุงุฒ ุขูฺฉู ูุฏุงุชู ฺฉุฑุฏู ุฏูู ุฑุง ููุญุฑู ูุณุงุฒ ู ุงุฒ ูุฒุฏ ุฎูุฏ ุฑุญูุชู ุจู ูู ุจุจุฎุด ฺฉู ุชูู ุจุฎุดูุฏู
ุตูููู ุนููู ููุญููููุฏู ููุนููู ุขูู ููุญููููุฏู ูู ุงุฌูุนููููู ูููู ุงูุชูุจุงุนููู ูู ุดุนูุชููู ูู ุงุญูุดูุฑููู ูู ุฒูููุฑูุชููู
ุจุฑ ูุญูุฏ ู ุขูุด ุฏุฑูุฏ ูุฑุณุช ู ูุฑุง ุงุฒ ูพุฑูุงู ู ุดุนุงู ุงู ูุฑุงุฑ ุฏู ู ุฏุฑ ฺฏุฑูู ุงู ูุญุดูุฑ ฺฏุฑุฏุงู
ูู ููููููููู ูุงูุฏุงุก ููุฑูุถู ุงููุฌูููุนุงุชู ูู ูุง ุงูููุฌูุจูุชู ุนูููููู ููุง ูููู ุงูุทูุงุนุงุชู ูู ููุณูููุชู ูุงููููููุง ูููู ุงูุนูุทุงููุกู ูู ููููู ุงููุฌูุฒุงููุกู ุงููููฺฉู ุงูููุชู ุงููุนูุฒุฒู ุงููุญูฺฉูู`,
    ziyaratTitle: 'ุฒุงุฑุช ุงูุงู ุฒูุงู (ุนุฌ)',
    ziyaratContent: 'ุฒุงุฑุช ุญุถุฑุช ููโุนุตุฑ (ุนุฌ) ู ุฏุนุง ุจุฑุง ุชุนุฌู ุฏุฑ ูุฑุฌ ุฏุฑ ุฑูุฒ ุฌูุนู.',
  },
};

const prayerLabels: Record<string, string> = {
  fajr: 'ุงุฐุงู ุตุจุญ',
  sunrise: 'ุทููุน ุฎูุฑุดุฏ',
  zuhr: 'ุงุฐุงู ุธูุฑ',
  asr: 'ุงุฐุงู ุนุตุฑ',
  sunset: 'ุบุฑูุจ ุฎูุฑุดุฏ',
  maghrib: 'ุงุฐุงู ูุบุฑุจ',
  isha: 'ุงุฐุงู ุนุดุงุก',
  midnight: 'ููู ุดุจ ุดุฑุน',
};

const prayerDisplayOrder: (keyof typeof prayerLabels)[] = ['fajr', 'sunrise', 'zuhr', 'sunset', 'maghrib', 'midnight'];

interface PrayerData {
  date: string;
  shamsiDate: string;
  gregorianDate: string;
  prayerTimes: Record<string, string>;
  events?: string[];
  iranianEvents?: string[];
  islamicEvents?: string[];
  hijriDate: { formatted?: string | null; raw?: any } | null;
  timezone?: string;
  shamsiDate_parts?: { year: number; month: number; day: number };
  source?: Record<string, string>;
  city?: string;
}

interface HomeShellProps {
  variant?: "default" | "miniApp";
}

export function HomeShell({ variant = "default" }: HomeShellProps) {
  const router = useRouter();
  const [mounted, setMounted] = useState(false);
  const isMiniApp = variant === "miniApp";
  const [selectedDate, setSelectedDate] = useState(() => new Date());
  const [prayerData, setPrayerData] = useState<PrayerData | null>(null);
  const [prayerLoading, setPrayerLoading] = useState(true);
  const [prayerError, setPrayerError] = useState<string | null>(null);
  const [themePref, setThemePref] = useState<ThemePreference>('light');
  const [resolvedTheme, setResolvedTheme] = useState<ThemeMode>('light');

  useTelegramWebApp();

  useEffect(() => {
    setMounted(true);
  }, []);

  const applyTheme = useCallback((mode: ThemeMode) => {
    setResolvedTheme(mode);
    if (typeof document !== 'undefined') {
      document.documentElement.dataset.theme = mode;
      document.documentElement.style.colorScheme = mode;
    }
  }, []);

  // Only run this effect once on mount to avoid infinite loop
  useEffect(() => {
    if (typeof window === 'undefined') return;
    const stored = window.localStorage.getItem('masjed-theme');
    if ((stored === 'dark' || stored === 'light') && stored !== themePref) {
      setThemePref(stored);
      applyTheme(stored);
    } else {
      applyTheme(themePref);
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  useEffect(() => {
    applyTheme(themePref);
  }, [themePref, applyTheme]);

  useEffect(() => {
    if (typeof window === 'undefined') return;
    window.localStorage.setItem('masjed-theme', themePref);
  }, [themePref]);

  useEffect(() => {
    if (typeof window !== "undefined" && window.Telegram?.WebApp && isMiniApp) {
      window.Telegram.WebApp.ready?.();
      window.Telegram.WebApp.setBackgroundColor?.("#030d09");
      window.Telegram.WebApp.setHeaderColor?.("#030d09");
    }
  }, [isMiniApp]);

  const shamsiMeta = useMemo(() => {
    const { jy, jm, jd } = toJalaali(
      selectedDate.getFullYear(),
      selectedDate.getMonth() + 1,
      selectedDate.getDate()
    );
    return {
      year: jy,
      month: jm,
      day: jd,
      formatted: formatShamsiDate(jy, jm, jd, true),
      raw: `${jy}-${jm.toString().padStart(2, "0")}-${jd.toString().padStart(2, "0")}`,
    };
  }, [selectedDate]);

  const pad = useCallback((n: number) => n.toString().padStart(2, "0"), []);

  const fetchPrayerTimes = useCallback(async () => {
    try {
      setPrayerLoading(true);
      setPrayerError(null);
      const shamsiDate = shamsiMeta.raw;
      const response = await fetch(`/api/prayer-by-date?shamsiDate=${shamsiDate}`);
      if (!response.ok) throw new Error('ุนุฏู ุฏุณุชุฑุณ ุจู ุงููุงุช ุดุฑุน');
      const result = await response.json();
      if (!result.ok) throw new Error(result.error || 'ุฎุทุง ูุงุดูุงุฎุชู');
      setPrayerData(result);
    } catch (error) {
      setPrayerError(error instanceof Error ? error.message : 'ุฎุทุง ูุงุดูุงุฎุชู');
      setPrayerData(null);
    } finally {
      setPrayerLoading(false);
    }
  }, [shamsiMeta.raw]);

  useEffect(() => {
    fetchPrayerTimes();
  }, [fetchPrayerTimes]);

  const moveDay = (delta: number) => {
    setSelectedDate((prev) => {
      const next = new Date(prev);
      next.setDate(prev.getDate() + delta);
      return next;
    });
  };

  const goToday = () => setSelectedDate(new Date());

  const isTodaySelected = useMemo(() => {
    const today = new Date();
    return today.toDateString() === selectedDate.toDateString();
  }, [selectedDate]);

    const todaysHadith = useMemo(() => {
    const dayIndex = Math.floor(new Date().getTime() / 86400000);
    return hadithBank[dayIndex % hadithBank.length];
  }, []);

  const devotionalInfo = devotionalSchedule[selectedDate.getDay()];
  const [duaPreviewArabic, duaPreviewPersian] = useMemo(() => {
    if (!devotionalInfo?.duaContent) return [null, null];
    const lines = devotionalInfo.duaContent
      .split('\n')
      .map((line) => line.trim())
      .filter(Boolean);
    return [lines[0] ?? null, lines[1] ?? null];
  }, [devotionalInfo?.duaContent]);
  const [devotionalModal, setDevotionalModal] = useState<{
    title: string;
    content: string;
    metadata: string;
  } | null>(null);

  const openDevotional = useCallback(
    (type: 'dua' | 'ziyarat') => {
      if (!devotionalInfo) return;
      const title = type === 'dua' ? devotionalInfo.duaTitle : devotionalInfo.ziyaratTitle;
      const content = type === 'dua' ? devotionalInfo.duaContent : devotionalInfo.ziyaratContent;
      const metadata = `ุฑูุฒ ${devotionalInfo.dayLabel} ยท ${type === 'dua' ? 'ุฏุนุง ุงุฎุชุตุงุต' : 'ุฒุงุฑุช ููุชุฎุจ'}`;
      setDevotionalModal({ title, content, metadata });
    },
    [devotionalInfo]
  );

  useEffect(() => {
    if (typeof document === "undefined") return;
    if (devotionalModal) {
      const previous = document.body.style.overflow;
      document.body.style.overflow = "hidden";
      return () => {
        document.body.style.overflow = previous;
      };
    }
    document.body.style.overflow = "";
  }, [devotionalModal]);

  const layout = useMemo(() => {
    if (isMiniApp) {
      return {
        outer: "relative min-h-screen overflow-hidden overscroll-y-none",
        inner: "relative z-10 mx-auto flex w-full max-w-4xl flex-col gap-8 px-3 pt-0 pb-6 sm:px-4",
        headerPadding: "p-4",
        sectionGap: "gap-3",
        footerPadding: "p-4 text-xs",
      };
    }
    return {
      outer: "relative min-h-screen overflow-hidden overscroll-y-none",
      inner: "relative z-10 mx-auto flex max-w-6xl flex-col gap-8 px-4 pt-0 pb-8 lg:px-8 lg:pt-2 lg:pb-11",
      headerPadding: "p-6",
      sectionGap: "gap-4",
      footerPadding: "p-6 text-sm",
    };
  }, [isMiniApp]);

  const gregorianLabel = useMemo(() => {
    return prayerData?.gregorianDate ?? selectedDate.toLocaleDateString('fa-IR-u-ca-gregory');
  }, [prayerData?.gregorianDate, selectedDate]);

  const hijriLabel = prayerData?.hijriDate?.formatted ?? '';
  const combinedEvents = useMemo(() => {
    const bucket = new Set<string>();
    (prayerData?.iranianEvents ?? []).forEach((item) => item && bucket.add(item));
    (prayerData?.islamicEvents ?? []).forEach((item) => item && bucket.add(item));
    (prayerData?.events ?? []).forEach((item) => item && bucket.add(item));
    return Array.from(bucket);
  }, [prayerData]);

  const toggleTheme = () => {
    setThemePref((prev) => (prev === 'dark' ? 'light' : 'dark'));
  };

  const isLightTheme = resolvedTheme === 'light';
  const footerBackground = isLightTheme
    ? 'linear-gradient(90deg, #0b6b2b 0%, #0b6b2b 30%, #ffffff 50%, #b71c1c 70%, #b71c1c 100%)'
    : 'linear-gradient(90deg, #09482a 0%, #09482a 30%, #000000 50%, #7b0000 70%, #7b0000 100%)';

  if (!mounted) {
    return <div className="relative min-h-screen overflow-hidden bg-[#fdf9f0]" />;
  }

  return (
    <div className={layout.outer} style={{ paddingBottom: "env(safe-area-inset-bottom)" }}>
      <div
        className={
          isLightTheme
            ? "absolute inset-0 bg-[linear-gradient(to_bottom,#f5e9d7_0%,#fde68a_30%,#bbf7d0_100%)]"
            : "absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(30,64,175,0.85),_transparent_72%)]"
        }
      />
      <div
        className={
          isLightTheme
            ? "absolute inset-0 bg-transparent"
            : "absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(40,53,147,0.88),_transparent_55%),radial-gradient(circle_at_bottom,_rgba(91,33,182,0.68),_transparent_80%)]"
        }
      />
      <div
        className={
          isLightTheme
            ? "pointer-events-none absolute inset-0 bg-transparent"
            : "pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(59,130,246,0.35),_transparent_78%)]"
        }
      />

      <div
        className={
          isMiniApp
            ? "relative z-20 flex w-full justify-start px-0 pt-[calc(0.75rem+env(safe-area-inset-top))] sm:px-1"
            : "relative z-20 flex w-full justify-start px-0 pt-3 sm:px-1 lg:px-2"
        }
      >
        <div
          className={`flex items-center gap-2 text-xs ${
            isLightTheme ? "text-emerald-900" : "text-white"
          }`}
        >
          <button
            onClick={toggleTheme}
            className={
              isLightTheme
                ? "flex h-9 w-9 items-center justify-center rounded-full border border-emerald-300 bg-emerald-50 text-lg text-emerald-700 shadow-md shadow-emerald-200/80 backdrop-blur-sm transition hover:bg-emerald-100 hover:shadow-emerald-300/90"
                : "flex h-9 w-9 items-center justify-center rounded-full border border-white/40 bg-black/70 text-lg text-white shadow-md backdrop-blur-sm transition hover:border-white/80"
            }
            aria-label="ุชุบุฑ ุญุงูุช ุฑูุฒ ู ุดุจ"
          >
            {resolvedTheme === "dark" ? "โ๏ธ" : "๐"}
          </button>
          <span
            className={
              isLightTheme
                ? "hidden whitespace-nowrap rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-[11px] font-medium text-emerald-900 shadow-sm shadow-emerald-100 sm:inline"
                : "hidden whitespace-nowrap rounded-full border border-white/25 bg-black/50 px-3 py-1.5 text-[11px] font-medium text-white shadow-lg backdrop-blur-sm sm:inline"
            }
          >
            ูุณุฌุฏ ู ูพุงฺฏุงู ุงูุงู ุฌุนูุฑ ุตุงุฏู (ุน) - ูุดูุฏ
          </span>
        </div>
      </div>

      <div className={layout.inner}>
        <section
          className={
            isLightTheme
              ? "rounded-3xl border border-emerald-200/80 bg-gradient-to-b from-white via-emerald-50 to-emerald-100 p-4 text-sm text-slate-900"
              : "rounded-3xl border border-white/10 bg-black/30 p-4 text-sm text-white"
          }
        >
          <p
            className="mb-3 text-center text-3xl font-semibold leading-relaxed sm:text-4xl"
            style={{ fontFamily: '"Amiri", "Scheherazade New", "IranNastaliq", serif' }}
          >
            <span className="bg-gradient-to-r from-[#fef9c3] via-[#facc15] to-[#f97316] bg-clip-text text-transparent drop-shadow-[0_0_36px_rgba(0,0,0,1)]">
              ุงูููู ุนุฌู ูููฺฉ ุงููุฑุฌ
            </span>
          </p>
          <div className="flex flex-wrap items-center justify-between gap-3">
            <div className="flex flex-col gap-1">
              <div className="flex items-center gap-2">
                <button
                  onClick={() => moveDay(-1)}
                  className={
                    isLightTheme
                      ? "rounded-full border border-emerald-200 bg-white px-3 py-1 text-emerald-800 transition hover:bg-emerald-50"
                      : "rounded-full border border-white/20 px-3 py-1 text-white transition hover:border-white"
                  }
                  aria-label="ุฑูุฒ ูุจู"
                >
                  โถ
                </button>
                <div className="flex min-w-[220px] flex-col items-center text-center">
                  <h2
                    className={
                      isLightTheme
                        ? "text-lg font-semibold text-emerald-900"
                        : "text-lg font-semibold"
                    }
                  >
                    {prayerData?.shamsiDate ?? shamsiMeta.formatted}
                  </h2>
                  {combinedEvents.length ? (
                    <p
                      className={
                        isLightTheme
                          ? "mt-1 text-[11px] text-emerald-800/90"
                          : "mt-1 text-[11px] text-amber-100"
                      }
                    >
                      {combinedEvents.join(" โข ")}
                    </p>
                  ) : (
                    <p
                      className={
                        isLightTheme
                          ? "mt-1 text-[11px] text-emerald-900/70"
                          : "mt-1 text-[11px] text-white/70"
                      }
                    >
                      ููุงุณุจุช ุซุจุช ูุดุฏู ุงุณุช
                    </p>
                  )}
                </div>
                <button
                  onClick={() => moveDay(1)}
                  className={
                    isLightTheme
                      ? "rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-emerald-800 transition hover:bg-emerald-100"
                      : "rounded-full border border-emerald-200/30 bg-emerald-900/40 px-3 py-1 text-emerald-100 transition hover:border-emerald-200/60"
                  }
                  aria-label="ุฑูุฒ ุจุนุฏ"
                >
                  โ
                </button>
              </div>
            </div>
            <div
              className={
                isLightTheme
                  ? "text-left text-xs text-emerald-900 sm:text-right"
                  : "text-left text-xs sm:text-right"
              }
            >
              {hijriLabel && (
                <p
                  className={
                    isLightTheme
                      ? "text-xs text-emerald-800/80"
                      : "text-xs text-white/70"
                  }
                >
                  {hijriLabel}
                </p>
              )}
              {prayerData?.source?.prayer && (
                <p
                  className={
                    isLightTheme
                      ? "mt-1 text-[11px] text-emerald-900/70"
                      : "mt-1 text-[11px] text-white/60"
                  }
                >
                  ููุจุน: {prayerData.source.prayer}
                </p>
              )}
            </div>
          </div>
          <div className="mt-4">
            {prayerLoading ? (
              <div className="grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6">
                {Array.from({ length: prayerDisplayOrder.length }).map((_, idx) => (
                  <div
                    key={idx}
                    className={
                      isLightTheme
                        ? "h-20 animate-pulse rounded-2xl border border-emerald-700 bg-lime-100/80"
                        : "h-20 animate-pulse rounded-2xl border border-emerald-400/30 bg-gradient-to-br from-slate-900/70 via-slate-900/50 to-slate-900/80"
                    }
                  />
                ))}
              </div>
            ) : (
              <div className="grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6">
                {prayerDisplayOrder.map((key) => (
                  <div
                    key={key}
                    className={
                      isLightTheme
                        ? "rounded-2xl border border-emerald-700 bg-lime-100/90 p-3 text-center"
                        : "rounded-2xl border border-emerald-400/50 bg-gradient-to-br from-slate-950/90 via-slate-900/70 to-slate-900/90 p-3 text-center"
                    }
                  >
                    <p
                      className={
                        isLightTheme
                          ? "text-xs text-sky-900"
                          : "text-xs text-white/60"
                      }
                    >
                      {prayerLabels[key]}
                    </p>
                    <p
                      className={
                        isLightTheme
                          ? "mt-2 text-xl font-bold text-sky-800"
                          : "mt-2 text-xl font-bold text-emerald-300"
                      }
                    >
                      {prayerData?.prayerTimes?.[key] ?? 'โ'}
                    </p>
                  </div>
                ))}
              </div>
            )}
          </div>
        </section>

        <header
          className={`flex flex-col gap-4 rounded-3xl border ${
            isLightTheme
              ? 'border-emerald-300/70 bg-[linear-gradient(135deg,#ecfdf5_0%,#d1fae5_40%,#bbf7d0_100%)]'
              : 'border-white/10 bg-white/5'
          } ${layout.headerPadding} backdrop-blur`}
        >
          <div className="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between">
            <div>
              <h1
                className={
                  isLightTheme
                    ? "mt-2 text-3xl font-bold leading-tight text-emerald-950 sm:text-4xl"
                    : "mt-2 text-3xl font-bold leading-tight text-white sm:text-4xl"
                }
              >
                ุฏุงุดุจูุฑุฏ ููุดููุฏ ูุณุฌุฏ
              </h1>
              <p
                className={
                  isLightTheme
                    ? "mt-3 max-w-3xl text-base font-semibold leading-relaxed text-emerald-900 sm:text-lg"
                    : "mt-3 max-w-3xl text-base font-semibold leading-relaxed text-amber-100 sm:text-lg"
                }
              >
                ูุณุฌุฏ ููุท ูุญู ููุงุฒ ุฎูุงูุฏู ูุณุชุ ูุณุฌุฏ ูพุงฺฏุงู ุชูุญุฏ ุงุณุชุ ูุณุฌุฏ ูุฑฺฉุฒ ุชุตููโฺฏุฑโูุง ุจุฒุฑฺฏ ุงุณุชุ ูุณุฌุฏ ุฌุงฺฏุงู ุงุณุช ฺฉู ุฏููุง ุฏุฑ ุขู ุจู ููุฑ ุฎุฏุงููุฏ ุฑูุดู ูโุดูุฏ.
                <br />
                <span
                  className={
                    isLightTheme
                      ? "mt-2 inline-block text-xs font-normal text-emerald-800/80"
                      : "mt-2 inline-block text-xs font-normal text-emerald-100/90"
                  }
                >
                  ููุงู ูุนุธู ุฑูุจุฑ(ูุฏ ุธูู ุงูุนุงู) ฑณนธ/ฐท/ฒฒ
                </span>
              </p>
              <div
                className={
                  isLightTheme
                    ? "mt-4 rounded-2xl border border-emerald-200/80 bg-gradient-to-br from-white via-emerald-50 to-emerald-100 p-5 text-sm text-emerald-950"
                    : "mt-4 rounded-2xl border border-white/10 bg-black/40 p-5 text-sm text-white/85"
                }
              >
                <p
                  className={
                    isLightTheme
                      ? "text-sm font-semibold text-emerald-700"
                      : "text-emerald-200/80"
                  }
                >
                  ุญุฏุซ ุฑูุฒ
                </p>
                <p
                  className={
                    isLightTheme
                      ? "mt-2 text-sm leading-7 text-emerald-950"
                      : "mt-2 text-sm leading-7 text-white/90"
                  }
                >
                  {todaysHadith.text}
                </p>
                <p
                  className={
                    isLightTheme
                      ? "mt-3 text-lg font-semibold leading-8 text-emerald-700"
                      : "mt-3 text-lg font-semibold leading-8 text-emerald-100"
                  }
                >
                  {todaysHadith.translation}
                </p>
                <p
                  className={
                    isLightTheme
                      ? "mt-2 text-xs text-emerald-900/70"
                      : "mt-2 text-xs text-white/60"
                  }
                >
                  {todaysHadith.source}
                </p>
              </div>
            </div>
            <div
              className={
                isLightTheme
                  ? "flex w-full flex-col gap-4 rounded-2xl border border-emerald-200/80 bg-white/80 p-5 text-sm text-emerald-950 lg:max-w-xs"
                  : "flex w-full flex-col gap-4 rounded-2xl border border-white/15 bg-black/40 p-5 text-sm lg:max-w-xs"
              }
            >
              <p
                className={
                  isLightTheme ? "text-emerald-900/80" : "text-white/70"
                }
              >
                ุฌุฏูู ุงุฏุนู ู ุฒุงุฑุงุช ุฑูุฒ
              </p>
              <button
                onClick={() => openDevotional('dua')}
                className={
                  isLightTheme
                    ? "group rounded-2xl border border-emerald-200 bg-emerald-50/70 p-5 text-right transition hover:bg-emerald-100"
                    : "group rounded-2xl border border-emerald-200/30 bg-gradient-to-br from-emerald-900/40 via-emerald-800/20 to-emerald-700/10 p-5 text-right transition hover:border-emerald-200/60"
                }
              >
                <div
                  className={
                    isLightTheme
                      ? "flex items-center justify-between text-xs text-emerald-800/90"
                      : "flex items-center justify-between text-xs text-emerald-100/90"
                  }
                >
                  <span>ุฏุนุง ุฑูุฒ {devotionalInfo?.dayLabel}</span>
                </div>
                <p
                  className={
                    isLightTheme
                      ? "mt-3 text-sm font-semibold text-emerald-950"
                      : "mt-3 text-sm font-semibold text-white/90"
                  }
                >
                  {devotionalInfo?.duaTitle}
                </p>
              </button>
              <button
                onClick={() => openDevotional('ziyarat')}
                className={
                  isLightTheme
                    ? "rounded-xl border border-emerald-200 bg-emerald-50/70 p-4 text-right transition hover:bg-emerald-100"
                    : "rounded-xl border border-white/10 bg-white/5 p-4 text-right transition hover:border-white/40"
                }
              >
                <p
                  className={
                    isLightTheme
                      ? "text-xs text-emerald-800"
                      : "text-xs text-amber-200"
                  }
                >
                  ุฒุงุฑุช ุฑูุฒ {devotionalInfo?.dayLabel}
                </p>
                <p
                  className={
                    isLightTheme
                      ? "mt-1 font-semibold text-emerald-950"
                      : "mt-1 font-semibold text-white"
                  }
                >
                  {devotionalInfo?.ziyaratTitle}
                </p>
              </button>
              <div className="mt-4 flex gap-3">
                <button
                  onClick={() => router.push('/start')}
                  className={
                    isLightTheme
                      ? "flex-1 rounded-2xl bg-gradient-to-l from-emerald-500 via-emerald-400 to-lime-400 px-4 py-2.5 text-xs font-semibold text-white shadow-md shadow-emerald-400/60 transition hover:-translate-y-0.5 sm:px-6 sm:text-sm"
                      : "flex-1 rounded-2xl bg-gradient-to-l from-emerald-500 via-emerald-400 to-lime-400 px-4 py-2.5 text-xs font-semibold text-black shadow-lg shadow-emerald-500/40 transition hover:-translate-y-0.5 sm:px-6 sm:text-sm"
                  }
                >
                  ุดุฑูุน ุณุฑุน ุฏุงุดุจูุฑุฏ ุฑูุฒุงูู
                </button>
                <button
                  onClick={() => router.push('/auth/login')}
                  className={
                    isLightTheme
                      ? "flex-1 rounded-2xl border border-emerald-400 px-4 py-2.5 text-xs font-semibold text-emerald-900 shadow-sm shadow-emerald-200 transition hover:-translate-y-0.5 hover:bg-emerald-50 sm:px-5 sm:text-sm"
                      : "flex-1 rounded-2xl border border-white/30 px-4 py-2.5 text-xs font-semibold text-white transition hover:-translate-y-0.5 hover:border-white sm:px-5 sm:text-sm"
                  }
                >
                  ูุฑูุฏ ูุฏุฑุงู
                </button>
              </div>
            </div>
          </div>
        </header>

        <section
          className={`grid ${layout.sectionGap} ${
            isMiniApp ? "grid-cols-1" : "sm:grid-cols-2 lg:grid-cols-4"
          }`}
        >
          {quickActions.map((action) => (
            <button
              key={action.title}
              onClick={() => router.push(action.href)}
              className={`group flex h-full flex-col items-start gap-4 rounded-3xl border ${
                isLightTheme
                  ? 'border-emerald-200/80 bg-gradient-to-br from-emerald-50 via-emerald-100 to-teal-50 text-emerald-950 shadow-[0_18px_40px_rgba(34,197,94,0.18)]'
                  : `border-white/10 bg-gradient-to-br ${action.accent} text-white hover:border-white/50 hover:shadow-[0_20px_45px_rgba(16,185,129,0.45)]`
              } p-5 text-right transition duration-200 hover:-translate-y-1`}
            >
              <div className="flex items-start gap-3">
                {action.icon && (
                  <span className="mt-1 text-3xl leading-none">
                    {action.icon}
                  </span>
                )}
                <div>
                  <p
                    className={
                      isLightTheme
                        ? "text-lg font-semibold text-emerald-950"
                        : "text-lg font-semibold"
                    }
                  >
                    {action.title}
                  </p>
                  <p
                    className={
                      isLightTheme
                        ? "mt-1 text-sm text-emerald-900/80"
                        : "mt-1 text-sm text-white/80"
                    }
                  >
                    {action.description}
                  </p>
                </div>
              </div>
              <span
                className={
                  isLightTheme
                    ? "mt-auto text-xs text-emerald-800/80"
                    : "mt-auto text-xs text-white/70"
                }
              >
                ุฑูุชู ุจู ุตูุญู โ
              </span>
            </button>
          ))}
        </section>

        {prayerError && (
          <section className="rounded-3xl border border-red-400/40 bg-red-500/10 p-4 text-sm text-red-100">
            {prayerError}
          </section>
        )}

        <section className={`grid gap-4 ${isMiniApp ? "" : "lg:grid-cols-[2fr,1fr]"}`}>
          <div
            className={
              isLightTheme
                ? "rounded-3xl border border-emerald-300/80 bg-gradient-to-br from-emerald-50 via-emerald-100 to-amber-100 p-6 shadow-[0_20px_50px_rgba(15,118,110,0.25)]"
                : "rounded-3xl border border-white/10 bg-white/5 p-6 shadow-inner shadow-black/20"
            }
          >
            <div className="flex items-center justify-between">
              <h2
                className={
                  isLightTheme
                    ? "text-2xl font-bold text-emerald-900"
                    : "text-2xl font-bold text-emerald-200"
                }
              >
                ุฏุงุดุจูุฑุฏ ูุฏุฑุช
              </h2>
            </div>
            <div className="mt-6 grid gap-4 sm:grid-cols-3">
              {impactHighlights.map((item) => (
                <div
                  key={item.title}
                  className={
                    isLightTheme
                      ? "rounded-2xl border border-emerald-200 bg-gradient-to-br from-emerald-100 via-emerald-200 to-amber-200 p-4"
                      : "rounded-2xl border border-emerald-400/40 bg-gradient-to-br from-slate-950/90 via-slate-900/70 to-slate-900/90 p-4"
                  }
                >
                  <div className="text-2xl">{item.icon}</div>
                  <p
                    className={
                      isLightTheme
                        ? "mt-4 text-2xl font-black text-emerald-950"
                        : "mt-4 text-2xl font-black text-white"
                    }
                  >
                    {item.title}
                  </p>
                  <p
                    className={
                      isLightTheme
                        ? "text-sm text-emerald-900/80"
                        : "text-sm text-emerald-100/80"
                    }
                  >
                    {item.subtitle}
                  </p>
                  <p
                    className={
                      isLightTheme
                        ? "mt-3 text-xs text-emerald-900/70"
                        : "mt-3 text-xs text-white/60"
                    }
                  >
                    {item.detail}
                  </p>
                </div>
              ))}
            </div>
          </div>
          <div
            className={
              isLightTheme
                ? "rounded-3xl border border-emerald-300/80 bg-gradient-to-br from-teal-100 via-emerald-100 to-amber-100 p-6 shadow-[0_18px_45px_rgba(14,116,144,0.22)]"
                : "rounded-3xl border border-white/10 bg-gradient-to-br from-[#13281e] to-[#0b1510] p-6"
            }
          >
            <h3
              className={
                isLightTheme
                  ? "mt-2 text-xl font-semibold text-emerald-950"
                  : "mt-2 text-xl font-semibold text-white"
              }
            >
              ุงุทูุงุนูโูุง ูุณุฌุฏ ู ูพุงฺฏุงู
            </h3>
          </div>
        </section>

        <section
          className={`rounded-3xl border p-6 ${
            isMiniApp ? "pb-5 text-sm" : ""
          } ${
            isLightTheme
              ? "border-emerald-300/80 bg-gradient-to-br from-emerald-50 via-emerald-100 to-amber-100 shadow-[0_20px_50px_rgba(15,118,110,0.25)]"
              : "border-white/10 bg-black/40"
          }`}
        >
          <div className="flex flex-wrap items-center justify-between gap-3">
            <div>
              <h2
                className={
                  isLightTheme
                    ? "text-2xl font-semibold text-emerald-900"
                    : "text-2xl font-semibold text-emerald-200/90"
                }
              >
                ูุฆุช ุงุฌุฑุง ูุณุฌุฏ
              </h2>
            </div>
          </div>
          <div className="mt-6 grid gap-4 md:grid-cols-2">
            <div
              className={
                isLightTheme
                  ? "rounded-2xl border border-purple-900 bg-gradient-to-br from-emerald-50 via-emerald-100 to-amber-100 p-5"
                  : "rounded-2xl border border-purple-900 bg-gradient-to-br from-slate-950/90 via-slate-900/70 to-slate-900/90 p-5"
              }
            >
              <p
                className={
                  isLightTheme
                    ? "text-sm text-emerald-900/80"
                    : "text-sm text-white/70"
                }
              >
                ูุฏุฑุช ุจุฑูุงููโูุง
              </p>
              <h3
                className={
                  isLightTheme
                    ? "mt-2 text-lg font-semibold text-emerald-950"
                    : "mt-2 text-lg font-semibold text-white"
                }
              >
                ุชููู ุฑูุฏุงุฏูุง ู ฺฉูุงุณโูุง
              </h3>
              <p
                className={
                  isLightTheme
                    ? "mt-2 text-sm text-emerald-900/80"
                    : "mt-2 text-sm text-white/70"
                }
              >
                ุงุฌุงุฏุ ูุฑุงุด ู ููุงุด ุฎูุฏฺฉุงุฑ ฺฉูุงุณโูุง ู ูุญุงูู ูุฑุขู ุฏุฑ ุตูุญู ุนููู ูุณุฌุฏ.
              </p>
              <span
                className={
                  isLightTheme
                    ? "mt-4 inline-flex w-fit rounded-full bg-emerald-50/90 px-3 py-1 text-xs text-emerald-900/90"
                    : "mt-4 inline-flex w-fit rounded-full bg-white/10 px-3 py-1 text-xs text-white/80"
                }
              >
                ุจุฒูุฏ ุฏุฑ ูุณุฎู ฒ.ฑ
              </span>
            </div>
            <div
              className={
                isLightTheme
                  ? "rounded-2xl border border-purple-900 bg-gradient-to-br from-emerald-50 via-emerald-100 to-amber-100 p-5 shadow-sm shadow-emerald-200/80"
                  : "rounded-2xl border border-purple-900 bg-white/5 p-5"
              }
            >
              <p
                className={
                  isLightTheme
                    ? "text-sm text-emerald-900/80"
                    : "text-sm text-white/70"
                }
              >
                ูพุฎุด ูุญุชูุง
              </p>
              <h3
                className={
                  isLightTheme
                    ? "mt-2 text-lg font-semibold text-emerald-950"
                    : "mt-2 text-lg font-semibold text-white"
                }
              >
                ุณุณุชู ุงุทูุงุนโุฑุณุงู ฺูุฏฺฉุงูุงูู
              </h3>
              <p
                className={
                  isLightTheme
                    ? "mt-2 text-sm text-emerald-900/80"
                    : "mt-2 text-sm text-white/70"
                }
              >
                ุงุฑุณุงู ููุฒูุงู ุงุนูุงู ุจู ููุงุดฺฏุฑ ูุณุฌุฏุ ุงุชุง ู ูพุงูฺฉ ุจุง ฺฉ ฺฉูฺฉ.
              </p>
              <span
                className={
                  isLightTheme
                    ? "mt-4 inline-flex w-fit rounded-full bg-emerald-50/90 px-3 py-1 text-xs text-emerald-900/90"
                    : "mt-4 inline-flex w-fit rounded-full bg-white/10 px-3 py-1 text-xs text-white/80"
                }
              >
                ุฏุฑ ุญุงู ุชูุณุนู
              </span>
            </div>
          </div>
        </section>

        <footer
          className={`rounded-3xl border ${
            isLightTheme
              ? 'border-emerald-900/10 text-black shadow-emerald-900/5'
              : 'border-white/20 text-white shadow-black/50'
          } ${layout.footerPadding} text-center text-sm font-semibold tracking-wide sm:text-base`}
          style={{ backgroundImage: footerBackground }}
        >
          ุชูุฏู ุจู ูพุดฺฏุงู ููุงุช ูุทููู ูููุ ู ุฏุฑ ุงูุชุธุงุฑ ุธููุฑ ุญุถุฑุช ุจูุฉโุงููู ุงูุงุนุธู (ุงุฑูุงุญูุง ูุฏุงู)
        </footer>
      </div>
      {devotionalModal && (
        <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/70 px-4">
          <div className="w-full max-w-lg rounded-3xl border border-white/20 bg-[#040c0a] p-6 text-white shadow-2xl">
            <div className="flex items-center justify-between">
              <h3 className="text-lg font-semibold">{devotionalModal.title}</h3>
              <button
                onClick={() => setDevotionalModal(null)}
                className="rounded-full border border-white/30 px-3 py-1 text-xs text-white/80"
              >
                ุจุณุชู
              </button>
            </div>
            <div className="mt-4 max-h-[60vh] overflow-y-auto whitespace-pre-line text-sm leading-7">
              {devotionalModal.content}
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
